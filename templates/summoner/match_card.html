{% for match in 0.match_history%}
<div id="{{match.id}}" class="match-card d-flex flex-column result-{% if match.match_info.win == 'WIN'%}WIN{%else%}LOSE{%endif%}  " data-game-id="{{match.id}}" data-victory-status="{{match.match_info.win}}">
    <div class="match-content d-flex justify-content-between px-4" style="font-size: 12px; width: 100%; ">
        <div class="match-info text-center d-flex align-items-center">
            <div>
                <div class="queue-type" style="font-weight: bold;">{{match.match_info.queue}}</div>
                <div class="time-delta"> {{match.match_info.creation}}</div>
                <div class="victory-status" style="font-weight: bold;">{{match.match_info.win}} {{match.match_info.duration}} </div>
            </div>
        </div>
        <div class="champion-info d-flex align-items-center justify-content-center">
            <div class="d-flex align-items-center">
                
                <div class="" tabindex="0" data-bs-placement="top" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="{{match.summoner_info.champion.name}}"><img class="champ-icon" src="{{match.summoner_info.champion.image}}" alt="{{match.summoner_info.champion.name}}"></div>
                
                <div class="d-flex">
                    <div>
                    {% for spell in match.summoner_info.spells%}
                        <div tabindex="0" data-bs-placement="top" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="{{spell.name}}">
                            <img style="width: 20px; height: 20px;background-color: black; border-radius: 50%;" src="{{spell.image}}" alt="{{spell.name}}">
                        </div>
                    {%endfor%}
                    </div>
                    <div>
                    {% for tree in match.summoner_info.runes%}
                        <div tabindex="0" data-bs-placement="top" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="{{tree.name}}">
                            <img style="width: 20px; height: 20px;background-color: black; border-radius: 50%;" src="{{tree.image}}" alt="{{tree.name}}">
                        </div>
                    {%endfor%}
                    </div>
                </div>
                
            </div>
        </div>
        <div class="player-stats d-flex flex-column text-center justify-content-center align-items-center my-1">
                <div>
                <div class="KDA" style="font-size: 20px;">{{match.summoner_info.KDA}}</div>
                <div class="KDA-ratio">{{match.summoner_info.kill_ratio}} KDA</div>
                
                </div>
                {% if match.summoner_info.multi_kill  %}
                <div class="multikill justify-content-center">{{match.summoner_info.multi_kill}}</div>
                {%endif%}
        </div>
        <div class="player-stats-continued d-flex flex-column text-center justify-content-center my-1">
                <div>
                    <div class="level">Level {{match.summoner_info.level}}</div>
                    <div class="creep-score"> {{match.summoner_info.cs}}CS ({{match.summoner_info.csm}})</div>
                    <div class="tier-division">Vision: {{match.summoner_info.vision_score}}</div>
                </div>
        </div>
        <div class="items d-flex align-items-center">
            <div class="item-container row" >
                {% for item in match.summoner_info.items%}
                    {% if item %}                                                
                        <div data-id={{item.id}} class="item" tabindex="0" data-bs-placement="top" data-bs-toggle="popover" data-bs-trigger="hover focus" title="{{item.name}}" data-bs-content="{{item.desc}}"><img  src="{{item.image}}" alt="{{item.name}}"></div>
                        
                        <!-- <div id="{{item.id}}" style="display: none">
                            {{item.desc}}
                        </div> -->
                    {%else%}
                        <div class="item bg-secondary"></div>
                    {%endif%}
                
                {% endfor %}
                
            </div>
            <div data-id={{match.summoner_info.trinket.id}} class="item" tabindex="0" data-bs-placement="top" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="{{match.summoner_info.trinket.name}}" style="margin-left: 10px;"><img  src="{{match.summoner_info.trinket.image}}" alt="{{match.summoner_info.trinket.name}}"></div>
            <div id="{{match.summoner_info.trinket.id}}" style="display: none">
                {{match.summoner_info.trinket.desc}}
            </div>
        </div>
        <div class="participants d-flex align-items-center">
            {% for team_side, team in match.participants.items%}
            <div class="Team">
                <div class="player-list me-2">
                    {% for player, player_data in team.items%}
                        
                        <div class="d-flex align-items-center">
                            <div class=" player-list-champ-icon-container {%if player == 0.name%} isSummoner-player-list {% endif %} " tabindex="0" data-bs-placement="top" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="{{player_data.champion.name}}">
                                <img class="player-list-champ-icon" src="{{player_data.champion.image}}" alt="{{player_data.champion.name}}">
                            </div>
                            <!--id="{{player_data.id}}" class="player-list-name" data-player-name="{{player}}"  data-player-region='{{0.region}}'-->
                            <a class="player-list-name" href="/summoner/?username={{player}}&region={{0.region}}" >{{player}}</a>
                        </div>
                    {% endfor %}
                </div>
            </div>
            {%endfor%}
        </div>
        <div class="match-details-btn d-flex justify-content-center align-items-center" > 
            
                <button class="btn text-light" onclick="detailsExpand('{{match.id}}')"><i class="fas fa-angle-down" style="font-size: 2em;"></i></button>  
        </div>
    </div>
    <div hidden class="match-details ">
        <div class="game-table-wrapper result-{% if match.match_info.win == 'WIN'%}WIN{%else%}LOSE{%endif%}"> 
            
            {% for team in match.teams%}
            <div class="game-table mt-3">
                <table class="align-middle" style="width: 100%;">
                    <thead>
                        <tr>
                            <th scope="col" style="width: 120px;">{{team.0 }} team </th>
                            <th scope="col">Tier</th>
                            <th scope="col">KDA</th>
                            <th scope="col">Damage</th>
                            <th scope="col" class="text-center">CS</th>
                            <th scope="col" class="text-center">Wards</th>
                            <th scope="col">Items</th>
                        </tr>
                    </thead>
                    <tbody>
                    {% for player, player_data in team.1.items%}
                    <tr class=" {%if player == 0.name%} isSummoner-match-details-container {% endif %} " >
                        <td>
                            <div class="d-flex align-item-center justify-content-center">
                                <div class="d-flex  align-item-center justify-content-center {%if player == 0.name%} isSummoner-player-list {% endif %}" tabindex="0" data-bs-placement="top" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="{{player_data.champion.name}}">
                                    <img style="width: 30px; height: 30px; border-radius: 50%;" src="{{player_data.champion.image}}" alt="{{player_data.name}}">
                                </div>
                                <div class="d-flex">
                                    <div>
                                    {% for spell in player_data.spells%}
                                        <div style="width: 15px; height: 15px; margin: 0; background-color: black; border-radius: 50%;" tabindex="0" data-bs-placement="top" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="{{spell.name}}">
                                            <img  style="width: 15px; height: 15px; margin: 0; background-color: black; border-radius: 50%;" src="{{spell.image}}" alt="{{spell.name}}">
                                        </div>
                                    {%endfor%}
                                    </div>
                                    <div>
                                    {% for tree in player_data.runes%}
                                        <div style="width: 15px; height: 15px; margin: 0; background-color: black; border-radius: 50%;" tabindex="0" data-bs-placement="top" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="{{tree.name}}">
                                            <img style="width: 15px; height: 15px; margin: 0; background-color: black; border-radius: 50%;" src="{{tree.image}}" alt="{{tree.name}}">
                                        </div>
                                    {%endfor%}
                                    </div>
                                </div>
                                <div class="d-flex align-item-center justify-content-center me-3">
                                    <a class="player-list-name my-auto" href="/summoner/?username={{player}}&region={{0.region}}" style="font-size: 12px; width: 75px;" >{{player}}</a>
                                </div>
                            </div>
                        </td>
                        <td style="width: 110px; padding: 4px;"><div>{{player_data.rank}}</div></td>
                        <td style="width: 75px;">
                            <div class="KDA" style="font-size: 12px;">{{player_data.KDA}}</div>
                            <div class="KDA-ratio">{{player_data.kill_ratio}} KDA</div>
                        </td>
                        <td>{{player_data.damage}} </td>
                        <td class="text-center">
                            <div>{{player_data.cs}}</div>
                            <div >({{player_data.csm}})</div>
                        </td>
                        <td>
                            <div class="text-center" tabindex="0" data-bs-placement="top" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-html='true' data-bs-content="<p>Control wards: {{player_data.control_wards}}</p><p>Wards Placed: {{player_data.wards_placed}}</p><p>Wards Killed: {{player_data.wards_killed}}</p>">
                                <div >
                                    {{player_data.control_wards}}
                                </div>
                                <div>{{player_data.wards_placed}}/{{player_data.wards_killed}}</div>
                            </div> 
                        </td>
                        <td style="width: 175px;">
                            <div class="d-flex align-items-center " >
                                <div class="d-flex" >
                                {% for item in player_data.items%}
                                    {% if item %}                                                
                                        <div data-id={{item.id}} class="item" style="margin: 2px;" tabindex="0" data-bs-placement="top" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="{{item.name}}">
                                            <img  src="{{item.image}}" alt="{{item.name}}">
                                        </div>
                                        
                                        
                                    {%else%}
                                        <div style="margin: 2px;" class="item bg-secondary"></div>
                                    {%endif%}
                                
                                {% endfor %}
                                
                                </div>
                                <div data-id={{player_data.trinket.id}} class="item" style="margin: 2px;"  tabindex="0" data-bs-placement="top" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="{{player_data.trinket.name}}" style="margin-left: 10px;">
                                <img  src="{{player_data.trinket.image}}" alt="{{player_data.trinket.name}}">
                            </div>
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                    </tbody>           
                </table>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endfor %}