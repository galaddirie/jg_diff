{% extends "base.html" %}
{% load static %}
{% block content %}
<div class="container top top-buffer text-light">
    
    <!-- <h1>{{ api_request }}</h1> -->
    <main>
        <div class="container update-btn">
            <button class="btn btn-md btn-danger">UPDATE</button>
        </div>


        <section id="Player-Info">
            <div class="container mt-4  d-flex justify-content-between">
                <div class="season-ranks d-flex">
                    
                </div>
                
            </div>
            
            <div class="container profile-container"> 
                
                <div class="player-profile-header"  >
                    
                    <div class="player-profile-container  text-center text-light mx-auto" >
                        
                        <div class="player-profile-icon">
                            <div class="d-flex  justify-content-center">
                                <div class="icon_banner " style="background-image: url( '{{ 0.leagues.SOLO.banner }}' );" ></div>
                                <div class="icon_border " style="background-image: url( '{{ 0.profile_icon_border }}' );" ></div>
                            </div>
                            <img class="player-profile-icon-img mx-auto"src="{{ 0.profile_icon }}" alt="profile icon">
                            <div class="level-container mx-auto">{{ 0.level }}</div>
                        </div>
                            
                        <div class="player-profile-name">
                            {{ 0.name }}
                        </div>
                    </div>
                    
                    <div class=" container player-info-container d-flex  bg-dark mx-auto py-4  "style="">
                        <button class="update-btn btn btn-sm text-light">UPDATE</button>
                        <button class="live-btn btn btn-sm text-light">LIVE</button>
                        <div class="container d-flex" >
                            <div class="info-left d-flex  align-items-center col-6 p-4" style="background-color: black; border-radius: 50px 0 0 50px;" >
                                {% for league, entries in 0.leagues.items%}
                                    
                                    <div class="me-3 text-center">
                                        
                                        <div class="league-icon"><img src="{{ entries.icon }}" alt="{{entries.rank}}"></div> 
                                    </div>
                                    <div class="me-3 text-left" style="width: 120px; ">
                                        <div class="rank-name">{{league}}Q</div>
                                        <div class="text-left" style="font-size: 1em;">
                                            <span class="rank-value">{{ entries.rank }} </span>
                                            {% if entries.lp %}
                                            <span style="font-size: .9em;">{{ entries.lp }}</span><span style="font-size: .7em;">LP</span>
                                            {% endif %}
                                        </div>
                                        <div class="text-left" style="font-size: 15px;">
                                            {% if entries.lp %} 
                                            {{ entries.wins }}<span style="font-size: .7em;">W</span> 
                                            {{ entries.losses }}<span style="font-size: .7em;">L</span> 
                                            {% endif %}
                                        </div>
                                        <div class="text-left" style="font-size: 15px;">
                                            {% if entries.lp %} 
                                            {% if entries.promos.played %}
                                                Series:
                                                {% for win in entries.promos.played %}
                                                    {% if win%}
                                                        <span style="font-size: .7em; color: rgb(210, 255, 143);"><i class="fas fa-check"></i></span> 
                                                    {% else %}
                                                        <span style="font-size: .7em; color: rgb(252, 94, 94);"><i class="fas fa-times"></i></span> 
                                                    {% endif %}
                                                {% endfor %}
                                                {% for i in entries.promos.not_played %}
                                                    <span style="font-size: .7em; color: grey;"><i class="far fa-circle"></i></span> 
                                                    
                                                {% endfor %}
                                            
                                            {% else %}
                                                Win Ratio: {{ entries.WR }}<span style="font-size: .7em;">%</span> 
                                            {% endif %}
                                            {% endif %}
                                        </div>
                                        
                                    </div>
                                {% endfor %}

                            </div>
                            
                            <div class="info-right  mx-4  col-6 container d-flex" style="padding-left: 60px;" >
                                <div class="ms-3 col-6 d-flex">
                                    <div class=" ">
                                        <div style="width: 100px; height: 100px; border: 20px solid gray; border-radius: 100%;"></div>
                                    </div>
                                    <div class="ms-3">
                                        <div style="width: 150px; height: 100px; background-color: rgb(31, 31, 31);"></div>
                                    </div>
                                </div>
                                <div class="ms-3 text-center col-4" >
                                    <div class="role-name">Preferred Role</div>
                                    <div class="league-icon"><img src="{% static 'images/top_lane.png' %}" alt="gold 1"></i></div>
                                    <div class="role-value">TOP</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>


        <section id="Game-Info">
            <div class="container-fluid" style="z-index: -1; position: relative; top: -70px; border-top: 2px solid rgba(255, 255, 255, 0.158);">
            </div>
            <!--GAME info-->
            <div class="container " style="max-width: 1200px;">
                <div class="row justify-content-between">
                    <!-- HISTORY SUMMARY-->
                    <div class="col-4 graphs bg-dark" style="margin-top: 150px; height: 200px;">
                    
                        
                        
                    </div>
                    <!-- MATCH LIST-->
                    <div class="col-8  match-container ">
                        <div class="header" > 
                            <div class="bg-dark" style="border-bottom: 1px solid rgba(255, 255, 255, 0.158); padding: 10px 10px 0 10px;">
                            TOTAL, NORMAL, RANKED SOLO, FLEX
                            </div>
                        </div>
                        {% for match in 0.match_history%}
                            <div class="match-card bg-dark mb-4" data-game-id="{{match.id}}" data-victory-status="{{match.match_info.win}}" style="border-radius: 100px; border: 1px solid rgba(255, 255, 255, 0.158);">
                                <div class="match-content d-flex justify-content-between px-4" style="font-size: 12px; width: 100%; ">
                                    <div class="match-info text-center d-flex align-items-center">
                                        <div>
                                            <div class="queue-type" style="font-weight: bold;">{{match.match_info.queue}}</div>
                                            <div class="time-delta"> {{match.match_info.creation}}</div>
                                            <div class="victory-status">{{match.match_info.win}} {{match.match_info.duration}} </div>
                                        </div>
                                    </div>
                                    <div class="champion-info d-flex align-items-center justify-content-center">
                                        <div class="d-flex">
                                            <div class="champ-icon bg-light" ><img class="champ-icon" src="{{match.summoner_info.champion.image}}" alt="{{match.summoner_info.champion.name}}"></div>
                                            <div class="summoner-spells">
                                                {% for spell in match.summoner_info.spells%}
                                                    <div>
                                                        <img style="width: 15px; height: 15px;" src="{{spell.image}}" alt="{{spell.name}}">
                                                    </div>
                                                {%endfor%}
                                                {% for tree in match.summoner_info.runes%}
                                                    <div>
                                                        <img style="width: 15px; height: 15px;" src="{{tree.image}}" alt="{{tree.name}}">
                                                    </div>
                                                {%endfor%}
                                            </div>
                                            <div class="runes" ></div>
                                        </div>
                                    </div>
                                    <div class="player-stats d-flex flex-column text-center justify-content-center my-1">
                                            <div>
                                            <div class="KDA" style="font-size: 20px;">{{match.summoner_info.KDA}}</div>
                                            <div class="KDA-ratio">{{match.summoner_info.kill_ratio}} KDA</div>
                                            
                                            </div>
                                            {% if match.summoner_info.multi_kill  %}
                                                <div class="multikill ">{{match.summoner_info.multi_kill}}</div>
                                            {%endif%}
                                    </div>
                                    <div class="player-stats-continued d-flex flex-column text-center justify-content-center my-1">
                                            <div>
                                                <div class="level">Level {{match.summoner_info.level}}</div>
                                                <div class="creep-score"> {{match.summoner_info.cs}}CS ({{match.summoner_info.csm}})</div>
                                                <div class="tier-division">Vision: {{match.summoner_info.vision_score}}</div>
                                            </div>
                                    </div>
                                    <div class="items d-flex align-items-center">
                                        <div class="item-container row" >
                                            {% for item in match.summoner_info.items%}
                                                {% if item %}
                                                    <div class="item bg-light"><img  src="{{item.image}}" alt="{{item.name}}"></div>
                                                {%else%}
                                                    <div class="item bg-light" style="background-color:red;"></div>
                                                {%endif%}
                                            {% endfor %}
                                            
                                        </div>
                                        <div class="item bg-light" style="margin-left: 10px;"><img  src="{{match.summoner_info.trinket.image}}" alt="{{match.summoner_info.trinket.name}}"></div>
                                    </div>
                                    <div class="participants d-flex align-items-center">
                                        {% for team in match.participants%}
                                        <div class="Team">
                                            <div class="player-list me-2">
                                                {% for player, player_data in team.items%}
                                                    
                                                    <div class="d-flex align-items-center">
                                                        <div class=" player-list-champ-icon-container"><img class="player-list-champ-icon" src="{{player_data.champion.image}}" alt="{{player_data.champion.name}}"></div>
                                                        <p class="player-list-name">{{player}}</p>
                                                    </div>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        {%endfor%}
                                    </div>
                                    <div class="match-details"></div>
                                </div>
                            </div>
                        {% endfor %}
                        <div class="d-flex justify-content-center ">
                            <div class="btn btn-large btn-primary"> Load More</div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </section>
    </main>

    
</div>

{% endblock content %}